<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="Game Boy Printer Emulator - Print photos from your Game Boy Camera to your browser!" />
    <meta name="theme-color" content="#563d7c">
    <title>GB-Link Printer</title>

    <!-- Bootstrap 4 CSS (CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/index.css">
</head>

<body class="text-center">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="masthead mb-auto">
            <div class="inner"></div>
        </header>

        <main role="main" class="inner cover">
            <div id="root">

                <!-- Screen: Connect (Initial) -->
                <div id="screen-connect" class="screen connect">
                    <h2 class="cover-heading">Game Boy Printer Emulator</h2>
                    <p class="lead">Print photos from your Game Boy Camera straight to your browser!</p>
                    <hr />
                    <h4>Connect your Game Boy</h4>
                    <p>Connect the USB adapter, then press print on your Game Boy Camera.</p>
                    <button id="btn-connect" class="btn btn-lg btn-secondary">Connect</button>
                    <br />
                    <small>Version: 2.0.7</small>
                </div>

                <!-- Screen: Connecting -->
                <div id="screen-connecting" class="screen connect">
                    <h2>Connecting...</h2>
                </div>

                <!-- Screen: Ready (Waiting for prints) -->
                <div id="screen-ready" class="screen connect">
                    <h2>Connected</h2>
                    <p>Waiting for print data from Game Boy...</p>
                    <div id="status-container">
                        <p id="status-text">Status: Idle</p>
                        <p id="data-received">Data received: 0 bytes</p>
                    </div>
                    <hr />
                    <div id="print-gallery">
                        <h4>Printed Images:</h4>
                        <div id="canvas-container"></div>
                    </div>
                    <hr />
                    <button id="btn-download-all" class="btn btn-secondary" style="display: none;">Download All
                        Images</button>
                    <button id="btn-disconnect" class="btn btn-secondary">Disconnect</button>
                </div>

                <!-- Screen: Error -->
                <div id="screen-error" class="screen connect">
                    <h2>Error</h2>
                    <h3 id="error-message"></h3>
                    <button id="btn-retry" class="btn btn-lg btn-secondary">Try Again</button>
                </div>

                <!-- Screen: No WebUSB -->
                <div id="screen-no-webusb" class="screen connect">
                    <h2>Sorry, your browser does not support WebUSB!</h2>
                    <p>Please use Chrome, Edge, or another Chromium-based browser.</p>
                </div>

            </div>
        </main>

        <footer class="mastfoot mt-auto">
            <div class="inner">
                <p>
                    Requires <a href="https://github.com/starlarkus/gb-link-firmware-reconfigurable" target="_blank">USB
                        Firmware</a> - <a href="https://github.com/starlarkus/gb-link-printer"
                        target="_blank">Source</a>
                </p>
            </div>
        </footer>
    </div>

    <noscript>You need to enable JavaScript to run this app.</noscript>

    <!-- Scripts -->
    <script src="js/serial.js"></script>
    <script src="js/printer.js"></script>
</body>

</html>